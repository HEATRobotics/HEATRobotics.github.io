{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./sponsor-slideshow.css';import RoundedImage from\"../RoundedImage/rounded-image\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SponsorSlideshow(_ref){let{tier,sponsors}=_ref;const[visibleIndex,setVisibleIndex]=useState(0);// Default visible index\nconst[transitioningIndex,setTransitioningIndex]=useState(null);const[direction,setDirection]=useState(null);// Tracks swipe direction\nconst AUTO_SLIDE_INTERVAL=5000;// 5 seconds\nconst tierClass=tier.toLowerCase();// Use tier name in lowercase for class\nlet interacted=false;useEffect(()=>{// Clear the interval when component unmounts or user interacts\nconst autoSlide=setInterval(()=>{handleNext();},AUTO_SLIDE_INTERVAL);return()=>clearInterval(autoSlide);},[interacted,visibleIndex]);const handleNext=()=>{interacted=true;setDirection(\"left\");setTransitioningIndex(visibleIndex);setVisibleIndex(prev=>prev<sponsors.length-1?prev+1:0);};const handlePrevious=()=>{interacted=true;setDirection(\"right\");setTransitioningIndex(visibleIndex);setVisibleIndex(prev=>prev>0?prev-1:sponsors.length-1);};const handleAnimationEnd=()=>{setTransitioningIndex(null);// Clear transitioning sponsor after animation\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"sponsor-container \".concat(tierClass),children:[/*#__PURE__*/_jsx(\"h2\",{children:tier}),/*#__PURE__*/_jsxs(\"div\",{className:'sponsor-row',children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevious,className:\"nav-button left-button\",children:\"<\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sponsor-content\",children:sponsors.map((sponsor,index)=>{const isVisible=index===visibleIndex;const isTransitioning=index===transitioningIndex;let animationClass=\"\";if(isTransitioning){animationClass=direction===\"left\"?\"slide-out-right\":\"slide-out-left\";}else if(isVisible){animationClass=direction===\"left\"?\"slide-in-left\":\"slide-in-right\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"sponsor \".concat(animationClass,\" \").concat(index!==0?\"translate-up\":\"\"),onAnimationEnd:isTransitioning?handleAnimationEnd:undefined,style:{display:isVisible||isTransitioning?\"block\":\"none\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:sponsor.name}),/*#__PURE__*/_jsx(RoundedImage,{img:sponsor.logo,path:\"sponsor-photos\",placeholder:sponsor.name}),/*#__PURE__*/_jsx(\"p\",{children:sponsor.description})]},index);})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNext,className:\"nav-button right-button\",children:\">\"})]})]});}export default SponsorSlideshow;","map":{"version":3,"names":["React","useEffect","useState","RoundedImage","jsx","_jsx","jsxs","_jsxs","SponsorSlideshow","_ref","tier","sponsors","visibleIndex","setVisibleIndex","transitioningIndex","setTransitioningIndex","direction","setDirection","AUTO_SLIDE_INTERVAL","tierClass","toLowerCase","interacted","autoSlide","setInterval","handleNext","clearInterval","prev","length","handlePrevious","handleAnimationEnd","className","concat","children","onClick","map","sponsor","index","isVisible","isTransitioning","animationClass","onAnimationEnd","undefined","style","display","name","img","logo","path","placeholder","description"],"sources":["/home/aidan/Documents/Projects/HEATRobotics.github.io/src/components/SponsorSlideShow/sponsor-slideshow.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport './sponsor-slideshow.css';\nimport RoundedImage from \"../RoundedImage/rounded-image\";\n\nfunction SponsorSlideshow({ tier, sponsors }) {\n    const [visibleIndex, setVisibleIndex] = useState(0); // Default visible index\n    const [transitioningIndex, setTransitioningIndex] = useState(null);\n    const [direction, setDirection] = useState(null); // Tracks swipe direction\n    const AUTO_SLIDE_INTERVAL = 5000; // 5 seconds\n    const tierClass = tier.toLowerCase(); // Use tier name in lowercase for class\n\n    let interacted = false;\n\n    useEffect(() => {\n        // Clear the interval when component unmounts or user interacts\n        const autoSlide = setInterval(() => {\n            handleNext();\n        }, AUTO_SLIDE_INTERVAL);\n\n        return () => clearInterval(autoSlide);\n    }, [interacted, visibleIndex]);\n\n    const handleNext = () => {\n        interacted = true;\n        setDirection(\"left\");\n        setTransitioningIndex(visibleIndex);\n        setVisibleIndex((prev) => (prev < sponsors.length - 1 ? prev + 1 : 0));\n    };\n\n    const handlePrevious = () => {\n        interacted = true;\n        setDirection(\"right\");\n        setTransitioningIndex(visibleIndex);\n        setVisibleIndex((prev) => (prev > 0 ? prev - 1 : sponsors.length - 1));\n    };\n\n    const handleAnimationEnd = () => {\n        setTransitioningIndex(null); // Clear transitioning sponsor after animation\n    };\n\n    return (\n        <div className={`sponsor-container ${tierClass}`}>\n            <h2>{tier}</h2>\n            {/* Previous button */}\n            <div className={'sponsor-row'}>\n                <button onClick={handlePrevious} className=\"nav-button left-button\">\n                    &lt;\n                </button>\n\n                {/* Sponsor content */}\n                <div className=\"sponsor-content\">\n                    {sponsors.map((sponsor, index) => {\n                        const isVisible = index === visibleIndex;\n                        const isTransitioning = index === transitioningIndex;\n                        let animationClass = \"\";\n\n                        if (isTransitioning) {\n                            animationClass = direction === \"left\" ? \"slide-out-right\" : \"slide-out-left\";\n                        } else if (isVisible) {\n                            animationClass = direction === \"left\" ? \"slide-in-left\" : \"slide-in-right\";\n                        }\n\n                        return (\n                            <div\n                                key={index}\n                                className={`sponsor ${animationClass} ${index !== 0 ? \"translate-up\" : \"\"}`}\n                                onAnimationEnd={isTransitioning ? handleAnimationEnd : undefined}\n                                style={{ display: isVisible || isTransitioning ? \"block\" : \"none\"}}\n                            >\n                                <h3>{sponsor.name}</h3>\n                                <RoundedImage\n                                    img={sponsor.logo}\n                                    path={\"sponsor-photos\"}\n                                    placeholder={sponsor.name}\n                                />\n                                <p>{sponsor.description}</p>\n                            </div>\n                        );\n                    })}\n                </div>\n\n                {/* Next button */}\n                <button onClick={handleNext} className=\"nav-button right-button\">\n                    &gt;\n                </button>\n            </div>\n\n        </div>\n    )\n}\n\n\nexport default SponsorSlideshow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}